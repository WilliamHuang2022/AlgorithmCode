

```python
'''
4
3
2 1 1
2 3 1
3 4 1
2
第一个参数：局域网内电脑个数N，1 ≤ N ≤ 200；
第二个参数：总共多少条网络连接
第三个 2 1 1 表示2->1时间为1（有向图）
第六行：表示病毒最开始所在电脑号2
'''

def main():
    n=int(input())

    _=int(input())

    mat=[(n+1)*[-1] for i in range(n+1)]
    for i in range(_):
        i,j,t=[int(ele) for ele in input().split(' ')]
        mat[i][j]=t

    
    final=(n+1)*[False]
    path=(n+1)*[0]
    dist=(n+1)*[float('inf')]
    start=int(input())
    final[start]=True
    path[start]=-1
    dist[start]=0
    dist[0]=-1
    while sum(final[1:])<n:
        for i in range(1,n+1): #从已知点出发
            if final[i]:
                for j in range(1,n+1): #寻找未知点
                    if i!=j and not final[j] and mat[i][j]!=-1:
                        if dist[j]>dist[i]+mat[i][j]:
                            dist[j]=dist[i]+mat[i][j]
                            path[j]=i
        site_list=sorted([[dist[i],i] for i in range(1,n+1) if not final[i]],key=lambda x:x[0])
        site=site_list[0][1]
        final[site]=True
    if max(dist)==float('inf'):
        return -1
    return max(dist)

print(main())
```
